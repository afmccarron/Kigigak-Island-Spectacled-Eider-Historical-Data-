CD C:\QUACK04
CLEAR ALL
SET BELL OFF
SET TALK OFF
SET ESCAPE OFF
SET EXACT OFF
SET NEAR OFF
set confirm on
CLEAR
XOBS = SPACE (3)
STORE CTOD('00/00/0000') TO XDATE
XSTUDYAREA = SPACE (4)
XNO_DRAKES = 0
@ 03,10 SAY "WELCOME TO QUACK 2004!"
*@ 09,10 SAY "THIS PROGRAM IS USED TO ENTER NEST DATA AND EGG MEASUREMENTS"
@ 06,10 SAY "Follow these instructions and be patient with the program!...remember atari?"
@ 07,10 SAY "1) Enter all data in CAPITAL letters"
@ 08,10 SAY "2) Enter 'BAND' in the field 'NEST #' for birds not assoc with nests"
@ 09,10 SAY "3) Enter QUIT for NEST # to terminate program"
@ 11,10 SAY "DID YOU RECORD TOTAL COEI DRAKES SEEN TODAY?"
@ 13,10 SAY "ENTER OBSERVER CODE "
@ 13,31 GET XObs PICTURE "@A! XXX" 
@ 14,10 SAY "ENTER DATE OF NEST VISIT"
@ 14,37 GET XDate ;
   RANGE CTOD('04/01/2004'),CTOD('09/01/2004')
@ 16,10 SAY "ENTER STUDY AREA"
@ 16,28 GET XSTUDYAREA PICTURE "@A!M KIGI,NONE"
READ
IF XSTUDYAREA = "NONE"
XSTUDYAREA = "    "
@ 16,28 GET XSTUDYAREA PICTURE "@A!M"
READ
ENDIF
CLEAR
* START OF MAIN LOOP
QQQ=1
DO WHILE QQQ<100
* DECLARIATION OF SPACE VARIABLES
ANSWER = SPACE (1)
XNEST = SPACE (6)
XSPECIES = SPACE(4)
XTIME = 0
XPHOTO = 000
XNO_EGGS = SPACE(2)
XEGGS_NEW = SPACE(2)
XEGGS_MISS = SPACE(2)
XEGGS_INVI = SPACE(2)
XWARM= SPACE(1)
XDRAKE= SPACE(1)
XDOWN= SPACE (1)
XHEN_STAT = SPACE (1)
XFLOAT1 = SPACE (2)
XFLOAT2 = SPACE (2)
XCANDLE1 = SPACE (3)
XCANDLE2 = SPACE (3)
XSTATUS = SPACE (10)
STORE CTOD('00/00/0000') TO XNEXT
XCOMMENTS = SPACE (60)
XHOBO = SPACE (2)
XSCALE = SPACE (1)
XEASTING = 0
XNORTHING = 0
*XGPS=SPACE(1)
XGOOSE_10M = SPACE (3)
XGOOSE1_SP = SPACE (4)
XGOOSE1_E = SPACE (6)
XGOOSE1_N = SPACE (7)
XGOOSE2_SP = SPACE (4)
XGOOSE2_E = SPACE (6)
XGOOSE2_N = SPACE (7)
XGOOSE3_SP = SPACE (4)
XGOOSE3_E = SPACE (6)
XGOOSE3_N = SPACE (7)
XGOOSE4_SP = SPACE (4)
XGOOSE4_E = SPACE (6)
XGOOSE4_N = SPACE (7)
XGOOSE5_SP = SPACE (4)
XGOOSE5_E = SPACE (6)
XGOOSE5_N = SPACE (7)
XGOOSE6_SP = SPACE (4)
XGOOSE6_E = SPACE (6)
XGOOSE6_N = SPACE (7)
XGOOSE7_SP = SPACE (4)
XGOOSE7_E = SPACE (6)
XGOOSE7_N = SPACE (7)
XGOOSE8_SP = SPACE (4)
XGOOSE8_E = SPACE (6)
XGOOSE8_N = SPACE (7)
XGOOSE9_SP = SPACE (4)
XGOOSE9_E = SPACE (6)
XGOOSE9_N = SPACE (7)
XGOOSE10_SP = SPACE (4)
XGOOSE10_E = SPACE (6)
XGOOSE10_N = SPACE (7)
XGOOSE_COMM = SPACE (35)
XGULL_10M = SPACE (3)
XGULL1_E = SPACE (6)
XGULL1_N = SPACE (7)
XGULL2_E = SPACE (6)
XGULL2_N = SPACE (7)
XGULL3_E = SPACE (6)
XGULL3_N = SPACE (7)
XGULL4_E = SPACE (6)
XGULL4_N = SPACE (7)
XGULL5_E = SPACE (6)
XGULL5_N = SPACE (7)
XGULL6_E = SPACE (6)
XGULL6_N = SPACE (7)
XGULL7_E = SPACE (6)
XGULL7_N = SPACE (7)
XGULL8_E = SPACE (6)
XGULL8_N = SPACE (7)
XGULL9_E = SPACE (6)
XGULL9_N = SPACE (7)
XGULL10_E = SPACE (6)
XGULL10_N = SPACE (7)
XGULL_COMM = SPACE (35)
XHABTYPE = SPACE (6)
XVEGTYPE = SPACE (6)
XSITE = SPACE (6)
XVEG_DENS1 = SPACE(3)
XVEG_DENS2 = SPACE (3)
XH20_DIST = SPACE (4)
XDOM_SPEC1 = SPACE (6)
XDOM_SPEC2 = SPACE (6)
XDOM_SPEC3 = SPACE (6)
XDOM_SPEC4 = SPACE (6)
XSPEC_COV1 = SPACE (3)
XSPEC_COV2 = SPACE (3)
XSPEC_COV3 = SPACE (3)
XSPEC_COV4 = SPACE (3)
XNMARK = .T.
STORE .T. TO xVIRUS,xRADIO,xWHOLEBLOOD,xSERUM
@ 6,10 SAY "ENTER 'QUIT' TO EXIT PROGRAM"
@ 8,10 SAY "ENTER 'BAND' FOR EIDER SIGHTINGS"
@ 10,10 SAY "ENTER NEST NUMBER:"
@ 10,31 GET XNesT PICTURE "@! XXXXXX" 
READ
IF XNEST = "      "
LOOP
ENDIF
CLEAR
    IF XNEST = "QUIT"
	EXIT
    ENDIF
IF XNEST="BAND  "
DO RESIGHT
LOOP
ENDIF
USE C:/QUACK04/VISIT ORDER NEST
* CHECKING FOR PREVIOUS NEST RECORDS
FIND &XNEST
IF EOF() 
@ 08,10 SAY "NEST NUMBER ENTERED : "
@ 08,35 SAY XNEST
@ 10,10 SAY "NEW NEST (N) OR INCORRECT ENTRY (I)?"
@ 10,60 GET ANSWER PICTURE "@A!M N,I"
READ
IF ANSWER = "I"
CLEAR
LOOP 
ELSE
CLEAR
ENDIF
ELSE 
CLEAR
ENDIF
* DISPLAYING PREVIOUS RECORDS

GO TOP
@ 0,0 SAY "NESTNO" 
@ 0,7 SAY "SPEC" 
@ 0,12 SAY "PLOT" 
@ 0,17 SAY "DATE" 
@ 0,25 SAY "TIME" 
@ 0,30 SAY "OBS" 
@ 0,34 SAY "NE" 
@ 0,37 SAY "NN" 
@ 0,40 SAY "NM"
@ 0,43 SAY "NI"
@ 0,46 SAY "W" 
@ 0,48 SAY "D" 
@ 0,50 SAY "H" 
@ 0,52 SAY "D" 
@ 0,55 SAY "F1" 
@ 0,58 SAY "F2" 
@ 0,62 SAY "C1" 
@ 0,66 SAY "C2" 
@ 0,71 SAY "STATUS" 
@ 0,83 SAY "HOBO"
SEEK xnest
STORE 1 TO line
DO WHILE xnest = nest_no
@ line,0 SAY Nest_no PICTURE "XXXXXX" 
@ line,7 SAY Species PICTURE "XXXX"
@ line,12 SAY Photo PICTURE "999" 
@ line,17 SAY Date
*@ line,25 SAY Time PICTURE "9999" 
@ line,30 SAY Obs PICTURE "XXX" 
@ line,34 SAY No_eggs PICTURE "99" 
@ line,37 SAY Eggs_new PICTURE "99" 
@ line,40 SAY Eggs_miss PICTURE "99"
@ line,43 SAY Eggs_invi PICTURE "99"
@ line,46 SAY Warm PICTURE "Y" 
@ line,48 SAY Down PICTURE "X" 
@ line,50 SAY Hen_stat PICTURE "X" 
@ line,52 SAY Drake PICTURE "Y" 
@ line,55 SAY Float1 PICTURE "XX" 
@ line,58 SAY Float2 PICTURE "XX" 
@ line,62 SAY Candle1 PICTURE "99" 
@ line,66 SAY Candle2 PICTURE "99" 
@ line,71 SAY Status PICTURE "XXXXXXXXXX"
@ line,83 SAY Hobo PICTURE "XX"
@ line+1,5 SAY "NEXT VISIT" 
@ line+1,25 SAY Comments PICTURE "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX" 
@ line+1,16 SAY NexTVISIT
SKIP
line = line+2
IF LINE > 17
WAIT
CLEAR
LINE = 1
SKIP -1
ENDIF
ENDDO
	SKIP -1
	XPHOTO=photo
	XSPECIES=SPECIES
	XSTATUS=STATUS
	XEASTING=EASTING
	XNORTHING=NORTHING
	XGPS=GPS
	XLINT = LINT

* ENTERING NEW NEST DATA
*-- @ SAY GETS Processing. -----------------------------------------------------
?
?
IF answer <> 'N'
STORE ' ' TO rt
@ 18,0 SAY 'I say again, "Is dis de right nest?"'
@ 18,38 GET rt PICTURE '@A!M Y,N'
READ
IF LEFT(UPPER(rt),1) <> 'Y'
	LOOP
ELSE
	SEEK xnest
	REPL check WITH .T. WHILE nest_no=xnest
ENDIF
@ 18,0 CLEAR TO 18,79
ENDIF
*--  Format Page: 1
@ 17,0 TO 17,79 DOUBLE
@ 17,0 SAY "NESTNO" 
@ 17,7 SAY "SPEC" 
@ 17,12 SAY "PLOT" 
@ 17,17 SAY "DATE" 
*@ 17,25 SAY "TIME" 
@ 17,30 SAY "OBS" 
@ 17,34 SAY "NE" 
@ 17,37 SAY "NN" 
@ 17,40 SAY "NM"
@ 17,43 SAY "NI"
@ 17,46 SAY "W" 
@ 17,48 SAY "D" 
@ 17,50 SAY "H" 
@ 17,52 SAY "M" 
@ 17,55 SAY "F1" 
@ 17,58 SAY "F2" 
@ 17,62 SAY "C1" 
@ 17,66 SAY "C2" 
@ 17,71 SAY "STATUS"
@ 17,83 say "HOBO"
@ 18,0 SAY XNest PICTURE "XXXXXX" 
STORE "N" TO CHANCE
DO WHILE CHANCE="N"
@ 18,7 GET XSpecies PICTURE "@A!M SPEI,COEI,OLDS,PALO,RTLO,STEI,KIEI,NONE" DEFAULT XSPECIES
@ 18,12 GET XPhoto PICTURE "999" 
@ 18,16 SAY XDate
*@ 18,25 GET XTime PICTURE "9999";
   RANGE 0000, 2400
@ 18,30 SAY XObs PICTURE "XXX" 
@ 18,34 GET XNo_eggs PICTURE "99" 
@ 18,37 GET XEggs_new PICTURE "99"  
@ 18,40 GET XEggs_miss PICTURE "99"
@ 18,43 GET XEggs_invi PICTURE "99"
@ 18,46 GET XWarm PICTURE "@A!M Y,N,"
@ 18,48 GET XDown PICTURE "@A!M N,S,A," 
@ 18,50 GET XHen_stat PICTURE "@A!M F,P,A," 
@ 18,52 GET XDrake PICTURE "@A!M Y,N,"
@ 18,55 GET XFloat1 PICTURE "@A!M ,SF,SA,SO,SP,FN,FS,FB,FO,FA,PS,PP," 
@ 18,58 GET XFloat2 PICTURE "@A!M ,SF,SA,SO,SP,FN,FS,FB,FO,FA,PS,PP," 
@ 18,62 GET XCandle1 PICTURE "99" 
@ 18,66 GET XCandle2 PICTURE "99" 
@ 18,71 GET XStatus PICTURE "@A!M LAYING,INCUBATING,TRAPPED,DUCKLINGS,ABANDONED,FLOODED,PREDATED,HATCHED,OTHER,BROOD" 
@ 18,83 GET XHobo PICTURE "XX"
@ 19,5 get xcomments
@ 20,50 SAY "NORTHING"
@ 20,28 SAY "EASTING"
*@ 20,70 SAY 'GOOD'
@ 20,37 get xeasting picture "999999" default xeasting
@ 20,60 GET XNORTHING PICTURE "9999999" DEFAULT XNORTHING
*@ 20,75 GET XGPS PICTURE "@A!M Y,N,"
@ 20,5 SAY "NEXT VISIT" 
READ

DO CASE
*	CASE XSPECIES = 'NOPI' 
*		fage = 24-max(val(xcandle1),val(xcandle2)) && hatch = 24
	CASE XSPECIES = 'SPEI'
		fage = 23-max(val(xcandle1),val(xcandle2)) && hatch = 24
*	CASE XSPECIES = 'NOSH' .OR. XSPECIES = 'AGWT'
*		fage = 24-max(val(xcandle1),val(xcandle2)) && hatch = 23
*	CASE XSPECIES = 'REDH'
*		fage = 26-max(val(xcandle1),val(xcandle2)) && hatch = 26
	CASE XSPECIES = 'OLDS' 
		fage = 22-max(val(xcandle1),val(xcandle2)) && hatch = 24
*	CASE XSPECIES = 'BLSC'
*		fage = 28-max(val(xcandle1),val(xcandle2)) && hatch = 28
	CASE XSPECIES = 'COEI'
		fage = 24-max(val(xcandle1),val(xcandle2)) && hatch = 26
*	CASE XSPECIES = 'UNEI'
*		fage = 26-max(val(xcandle1),val(xcandle2)) && hatch = 26
	*CASE XSPECIES = 'GRSC'
		*fage = 24-max(val(xcandle1),val(xcandle2)) && hatch = 24
	OTHERWISE
		fage = 100
ENDCASE
* SETTING VISITATION INTERVAL
IF fage < 7
	XNEXT = XDATE+(FAGE-1)
ELSE
	DO CASE
		CASE XSPECIES = 'SPEI' .OR. XSPECIES='COEI' .OR. XSPECIES='OLDS' .OR. XSPECIES='PALO' .OR. XSPECIES='RTLO'
			xnext = xdate+7
                CASE XHEN_STAT<>'F' .AND. XDOWN='N'
                        xnext = XDATE+7
		OTHERWISE
			xnext = CTOD('01/01/2003')
	ENDCASE
ENDIF
DO CASE
     CASE XSTATUS = "TRAPPED"
	XNEXT= XDATE+1
     *CASE XSTATUS = "DUCKLINGS"
	*XNEXT=XDATE+1
     CASE xstatus = "ABANDONED"  .or. xstatus = "DUCKLINGS" .or. xstatus="PREDATED" .or. xstatus="HATCHED"
	xnext = Ctod('01/01/2004')
     CASE xstatus = 'BROOD'
	xnext = xdate+7
	xphoto = 999
	DO BROOD
ENDCASE
@ 20,16 GET XNext ;
   RANGE CTOD('00/00/2004'),CTOD('09/01/2004')

@ 21,10 SAY 'IS EVERYTHING KOSHER??'
@ 21,35 GET CHANCE PICTURE "@A!M Y,N" 
READ
ENDDO
APPEND BLANK
REPLACE NEST_NO WITH XNEST, SPECIES WITH XSPECIES, STUDYAREA WITH XSTUDYAREA
REPL PHOTO WITH XPHOTO, DATE WITH XDATE,OBS WITH XOBS, STATUS WITH XSTATUS, HOBO WITH XHOBO
REPL NO_EGGS WITH VAL(XNO_EGGS), EGGS_NEW WITH VAL(XEGGS_NEW), EGGS_MISS WITH VAL(XEGGS_MISS), EGGS_INVI WITH VAL(XEGGS_INVI)
REPL WARM WITH XWARM, DRAKE WITH XDRAKE, DOWN WITH XDOWN, HEN_STAT WITH XHEN_STAT
REPLACE FLOAT1 WITH XFLOAT1,FLOAT2 WITH XFLOAT2,CANDLE1 WITH XCANDLE1,CANDLE2 WITH XCANDLE2,;
	 COMMENTS WITH XCOMMENTS, NEXTVISIT WITH XNEXT
REPLACE EASTING WITH XEASTING, NORTHING WITH XNORTHING, LINT WITH xlint
CLEAR

* ENTERING HABITAT DATA FOR FIRST NEST VISITS
IF ANSWER = "N"
CLEAR
STORE "N" TO CHANCE
DO WHILE CHANCE="N"
@ 00,10 SAY "NO PREVIOUS RECORDS, ENTER NEST CHARACTERISTICS"
@ 02,01 SAY "SPECIES  PHOTO HABTYPE  VEGTYPE  SITE"
@ 03,01 SAY xspecies
@ 03,10 SAY xphoto
@ 03,17 GET XHABTYPE PICTURE "@A!M GRASSFLT,INTERMED,UPLAND,OTHER"
READ
IF XHABTYPE = "OTHER"
XHABTYPE = "      "
@03,17 GET XHABTYPE PICTURE "@A!M XXXXXXXX"
READ
ENDIF
@ 03,26 GET XVEGTYPE PICTURE "@A!M MEADOW,SHRUB,EMERGENTS,MOSS,FORBES,BARE,OTHER"
READ
IF XVEGTYPE = "OTHER"
XVEGTYPE = "      "
@03,26 GET XVEGTYPE PICTURE "@A!M XXXXXXXXX"
READ
ENDIF
@ 03,35 GET XSITE PICTURE "@A!M SLBNK,SLBNKI,SLBNKT,SLBNKO,POLSHR,LAKSHR,PENINS,ISLAND,DISPIS,PINGO,PINGOSD,DISTUR,GFLAT,OTHER"
READ
IF XSITE = "OTHER"
XSITE = "      "
@ 03,35 GET XSITE PICTURE "@A!M XXXXXX"
READ
ENDIF
*@ 04,01 SAY "                                PAINTED"
@ 05,01 SAY "                      H20_DIST"
* 06,01 GET XVEG_DENS1
* 06,12 GET XVEG_DENS2
@ 06,24 GET XH20_DIST
* 06,35 GET XNMARK
@ 08,10 SAY "DOM SPEC    % COVER"
@ 09,01 SAY "SPEC1"
@ 10,01 SAY "SPEC2"
@ 11,01 SAY "SPEC3"
@ 12,01 SAY "SPEC4"
@ 09,12 GET XDOM_SPEC1 PICTURE "@A!M ,ELYMUS,C.RAM,CALAM,POTENT,PUCCEN,LIGUST,BETULA,C.UNK,POA,SALIX,VACCIN,BARE,EMPETR,C.RARE,LITTER,OTHER"
READ
IF XDOM_SPEC1 = "OTHER "
XDOM_SPEC1 = "      "
@ 09,12 GET XDOM_SPEC1 PICTURE "@A! XXXXXX"
ENDIF
@ 09,25 GET XSPEC_COV1
@ 10,12 GET XDOM_SPEC2 PICTURE "@A!M ,ELYMUS,C.RAM,CALAM,POTENT,PUCCEN,LIGUST,BETULA,C.UNK,POA,SALIX,VACCIN,BARE,EMPETR,C.RARE,LITTER,OTHER"
READ
IF XDOM_SPEC2 = "OTHER "
XDOM_SPEC2 = "      "
@ 10,12 GET XDOM_SPEC2 PICTURE "@A! XXXXXX"
ENDIF
@ 10,25 GET XSPEC_COV2
@ 11,12 GET XDOM_SPEC3 PICTURE "@A!M ,ELYMUS,C.RAM,CALAM,POTENT,PUCCEN,LIGUST,BETULA,C.UNK,POA,SALIX,VACCIN,BARE,EMPETR,C.RARE,LITTER,OTHER"
READ
IF XDOM_SPEC3 = "OTHER "
XDOM_SPEC3 = "      "
@ 11,12 GET XDOM_SPEC3 PICTURE "@A! XXXXXX"
ENDIF
@ 11,25 GET XSPEC_COV3
@ 12,12 GET XDOM_SPEC4 PICTURE "@A!M ,ELYMUS,C.RAM,CALAM,POTENT,PUCCEN,LIGUST,BETULA,C.UNK,POA,SALIX,VACCIN,BARE,EMPETR,C.RARE,LITTER,OTHER"
READ
IF XDOM_SPEC4 = "OTHER "
XDOM_SPEC4 = "      "
@ 12,12 GET XDOM_SPEC4 PICTURE "@A! XXXXXX"
ENDIF
@ 12,25 GET XSPEC_COV4
READ
@ 14,01 SAY "NESTING NEIGHBORS WITHIN 10M:"
@ 15,01 SAY "GOOSE" 
@ 15,10 GET XGOOSE_10M PICTURE "999"
@ 16,15 SAY "SPP."
@ 16,25 SAY "EASTING"
@ 16,35 SAY "NORTHING"
@ 17,01 SAY "GOOSE NEST #1:"

@ 17,15 GET XGOOSE1_SP PICTURE "@A!M ,BRAN, CAGO, EMGO, WFGO, UNK"
@ 17,25 GET XGOOSE1_E PICTURE "999999"
@ 17,35 GET XGOOSE1_N PICTURE "9999999"
@ 18,01 SAY "GOOSE NEST #2:"
@ 18,15 GET XGOOSE2_SP PICTURE "@A!M ,BRAN, CAGO, EMGO, WFGO, UNK"
@ 18,25 GET XGOOSE2_E PICTURE "999999"
@ 18,35 GET XGOOSE2_N PICTURE "9999999"
@ 19,01 SAY "GOOSE NEST #3:"
@ 19,15 GET XGOOSE3_SP PICTURE "@A!M ,BRAN, CAGO, EMGO, WFGO, UNK"
@ 19,25 GET XGOOSE3_E PICTURE "999999"
@ 19,35 GET XGOOSE3_N PICTURE "9999999"
@ 20,01 SAY "GOOSE NEST #4:"
@ 20,15 GET XGOOSE4_SP PICTURE "@A!M ,BRAN, CAGO, EMGO, WFGO, UNK"
@ 20,25 GET XGOOSE4_E PICTURE "999999"
@ 20,35 GET XGOOSE4_N PICTURE "9999999"
@ 21,01 SAY "GOOSE NEST #5:"
@ 21,15 GET XGOOSE5_SP PICTURE "@A!M ,BRAN, CAGO, EMGO, WFGO, UNK"
@ 21,25 GET XGOOSE5_E PICTURE "999999"
@ 21,35 GET XGOOSE5_N PICTURE "9999999"
@ 22,01 SAY "GOOSE NEST #6:"
@ 22,15 GET XGOOSE6_SP PICTURE "@A!M ,BRAN, CAGO, EMGO, WFGO, UNK"
@ 22,25 GET XGOOSE6_E PICTURE "999999"
@ 22,35 GET XGOOSE6_N PICTURE "9999999"
@ 23,01 SAY "GOOSE NEST #7:"
@ 23,15 GET XGOOSE7_SP PICTURE "@A!M ,BRAN, CAGO, EMGO, WFGO, UNK"
@ 23,25 GET XGOOSE7_E PICTURE "999999"
@ 23,35 GET XGOOSE7_N PICTURE "9999999"
@ 24,01 SAY "GOOSE NEST #8:"
@ 24,15 GET XGOOSE8_SP PICTURE "@A!M ,BRAN, CAGO, EMGO, WFGO, UNK"
@ 24,25 GET XGOOSE8_E PICTURE "999999"
@ 24,35 GET XGOOSE8_N PICTURE "9999999"
@ 25,01 SAY "GOOSE NEST #9"
@ 25,15 GET XGOOSE9_SP PICTURE "@A!M ,BRAN, CAGO, EMGO, WFGO, UNK"
@ 25,25 GET XGOOSE9_E PICTURE "999999"
@ 25,35 GET XGOOSE9_N PICTURE "9999999"
@ 26,01 SAY "GOOSE NEST #10"
@ 26,15 GET XGOOSE10_SP PICTURE "@A!M ,BRAN, CAGO, EMGO, WFGO, UNK"
@ 26,25 GET XGOOSE10_E PICTURE "999999"
@ 26,35 GET XGOOSE10_N PICTURE "9999999"
@ 27,01 SAY "COMMENTS"
@ 27,10 GET XGOOSE_COMM PICTURE "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
@ 28,01 SAY "GULLS"
@ 28,10 GET XGULL_10M PICTURE "999"
@ 29,25 SAY "EASTING"
@ 29,35 SAY "NORTHING"
@ 30,10 SAY "GULL 1 UTMS:"
@ 30,25 GET XGULL1_E PICTURE "999999"
@ 30,35 GET XGULL1_N PICTURE "9999999"
@ 31,10 SAY "GULL 2 UTMS:"
@ 31,25 GET XGULL2_E PICTURE "999999"
@ 31,35 GET XGULL2_N PICTURE "9999999"
@ 32,10 SAY "GULL 3 UTMS:"
@ 32,25 GET XGULL3_E PICTURE "999999"
@ 32,35 GET XGULL3_N PICTURE "9999999"
@ 33,10 SAY "GULL 4 UTMS:"
@ 33,25 GET XGULL4_E PICTURE "999999"
@ 33,35 GET XGULL4_N PICTURE "9999999"
@ 34,10 SAY "GULL 5 UTMS:"
@ 34,25 GET XGULL5_E PICTURE "999999"
@ 34,35 GET XGULL5_N PICTURE "9999999"
@ 35,10 SAY "GULL 6 UTMS:"
@ 35,25 GET XGULL6_E PICTURE "999999"
@ 35,35 GET XGULL6_N PICTURE "9999999"
@ 36,10 SAY "GULL 7 UTMS:"
@ 36,25 GET XGULL7_E PICTURE "999999"
@ 36,35 GET XGULL7_N PICTURE "9999999"
@ 37,10 SAY "GULL 8 UTMS:"
@ 37,25 GET XGULL8_E PICTURE "999999"
@ 37,35 GET XGULL8_N PICTURE "9999999"
@ 38,10 SAY "GULL 9 UTMS:"
@ 38,25 GET XGULL9_E PICTURE "999999"
@ 38,35 GET XGULL9_N PICTURE "9999999"
@ 39,10 SAY "GULL 10 UTMS:"
@ 39,25 GET XGULL10_E PICTURE "999999"
@ 39,35 GET XGULL10_N PICTURE "9999999"
@ 40,01 SAY "COMMENTS"
@ 40,10 GET XGULL_COMM PICTURE "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
@ 41,30 SAY "ARE YOU PERFECT??"
@ 41,70 GET CHANCE PICTURE "@A!M Y,N"
READ
ENDDO
USE C:\QUACK04\HEADER
APPEND BLANK
REPLACE NEST_NO WITH XNEST, SPECIES WITH XSPECIES,STUDYAREA WITH XSTUDYAREA,PHOTO WITH XPHOTO, easting with xeasting, northing with xnorthing, HABTYPE WITH XHABTYPE
REPLACE VEGTYPE WITH XVEGTYPE, SITE WITH XSITE
  *VEG_DENS1 WITH VAL(XVEG_DENS1), VEG_DENS2 WITH VAL(XVEG_DENS2)
REPLACE H20_DIST WITH VAL(XH20_DIST),NMARK WITH xnmark
REPLACE DOM_SPEC1 WITH XDOM_SPEC1
REPLACE SPEC_COV1 WITH VAL(XSPEC_COV1)
REPLACE DOM_SPEC2 WITH XDOM_SPEC2
REPLACE SPEC_COV2 WITH VAL(XSPEC_COV2)
REPLACE DOM_SPEC3 WITH XDOM_SPEC3
REPLACE SPEC_COV3 WITH VAL(XSPEC_COV3)
REPLACE DOM_SPEC4 WITH XDOM_SPEC4
REPLACE SPEC_COV4 WITH VAL(XSPEC_COV4)
REPLACE GOOSE_10M WITH VAL(XGOOSE_10M)
REPLACE GOOSE1_SP WITH XGOOSE1_SP
REPLACE GOOSE1_E WITH VAL(XGOOSE1_E)
REPLACE GOOSE1_N WITH VAL(XGOOSE1_N)
REPLACE GOOSE2_SP WITH XGOOSE2_SP
REPLACE GOOSE2_E WITH VAL(XGOOSE2_E)
REPLACE GOOSE2_N WITH VAL(XGOOSE2_N)
REPLACE GOOSE3_SP WITH XGOOSE3_SP
REPLACE GOOSE3_E WITH VAL(XGOOSE3_E)
REPLACE GOOSE3_N WITH VAL(XGOOSE3_N)
REPLACE GOOSE4_SP WITH XGOOSE4_SP
REPLACE GOOSE4_E WITH VAL(XGOOSE4_E)
REPLACE GOOSE4_N WITH VAL(XGOOSE4_N)
REPLACE GOOSE5_SP WITH XGOOSE5_SP
REPLACE GOOSE5_E WITH VAL(XGOOSE5_E)
REPLACE GOOSE5_N WITH VAL(XGOOSE5_N)
REPLACE GOOSE6_SP WITH XGOOSE6_SP
REPLACE GOOSE6_E WITH VAL(XGOOSE6_E)
REPLACE GOOSE6_N WITH VAL(XGOOSE6_N)
REPLACE GOOSE7_SP WITH XGOOSE7_SP
REPLACE GOOSE7_E WITH VAL(XGOOSE7_E)
REPLACE GOOSE7_N WITH VAL(XGOOSE7_N)
REPLACE GOOSE8_SP WITH XGOOSE8_SP
REPLACE GOOSE8_E WITH VAL(XGOOSE8_E)
REPLACE GOOSE8_N WITH VAL(XGOOSE8_N)
REPLACE GOOSE9_SP WITH XGOOSE9_SP
REPLACE GOOSE9_E WITH VAL(XGOOSE9_E)
REPLACE GOOSE9_N WITH VAL(XGOOSE9_N)
REPLACE GOOSE10_SP WITH XGOOSE10_SP
REPLACE GOOSE10_E WITH VAL(XGOOSE10_E)
REPLACE GOOSE10_N WITH VAL(XGOOSE10_N)
REPLACE GOOSE_COMM WITH XGOOSE_COMM
REPLACE GULL_10M WITH VAL(XGULL_10M)
REPLACE GULL1_E WITH VAL(XGULL1_E)
REPLACE GULL1_N WITH VAL(XGULL1_N)
REPLACE GULL2_E WITH VAL(XGULL2_E)
REPLACE GULL2_N WITH VAL(XGULL2_N)
REPLACE GULL3_E WITH VAL(XGULL3_E)
REPLACE GULL3_N WITH VAL(XGULL3_N)
REPLACE GULL4_E WITH VAL(XGULL4_E)
REPLACE GULL4_N WITH VAL(XGULL4_N)
REPLACE GULL5_E WITH VAL(XGULL5_E)
REPLACE GULL5_N WITH VAL(XGULL5_N)
REPLACE GULL6_E WITH VAL(XGULL6_E)
REPLACE GULL6_N WITH VAL(XGULL6_N)
REPLACE GULL7_E WITH VAL(XGULL7_E)
REPLACE GULL7_N WITH VAL(XGULL7_N)
REPLACE GULL8_E WITH VAL(XGULL8_E)
REPLACE GULL8_N WITH VAL(XGULL8_N)
REPLACE GULL9_E WITH VAL(XGULL9_E)
REPLACE GULL9_N WITH VAL(XGULL9_N)
REPLACE GULL10_E WITH VAL(XGULL10_E)
REPLACE GULL10_N WITH VAL(XGULL10_N)
REPLACE GULL_COMM WITH XGULL_COMM
CLEAR
ELSE
CLEAR
ENDIF
* ENTERING DATA FOR NEST TRAPPED FEMALES
IF XSTATUS = 'TRAPPED'
	DO MARK

LOOP
ENDIF
* ENTERING EGG MEASUREMENT DATA
IF VAL(XEGGS_NEW) > 0
first = .Y.
@ 10,10 SAY "DO YOU HAVE EGG MEASUREMENTS FOR THIS NEST"
@ 10,58 GET first picture "@A!M Y,N" default .Y.
READ
IF FIRST
CLEAR
USE C:\QUACK04\EGG ORDER NEST
COUNTER=0
NUMBER=VAL(XEGGS_NEW) 
DO WHILE number > 16 .OR. first
	@ 10,10 SAY "HOW MANY NEW EGGS WERE MEASURED"
	@ 11,10 SAY XNEST
	@ 11,20 GET NUMBER PICTURE "99" DEFAULT number
	READ
	first = .N.
ENDDO
CLEAR
IF NUMBER=00
LOOP
ENDIF
DECLARE EGG[NUMBER,3]
X=1
DO WHILE X<(NUMBER+1)
	EGG[X,1] = 00
	EGG[X,2] = 00.0
	EGG[X,3] = 00.0
	X=X+1
ENDDO
SEEK XNEST
STORE 3 TO LINE
TALLY=0
IF EOF()
@ 01,14 SAY "NO PREVIOUS RECORDS"
ELSE
DO WHILE xnest = nest_no
@ 02,00 SAY "NEST    SPEC DATE     OBS  EGG LENGTH WIDTH "
@ line,0 SAY Nest_no PICTURE "XXXXXX" 
@ line,8 SAY Species PICTURE "XXXX"
@ line,13 SAY Date
@ line,22 SAY Obs PICTURE "XXX" 
@ line,27 say eggno picture "999"
@ line,32 say length picture "99.9"
@ line,38 say width picture "99.9"
SKIP
line = line+1
TALLY=TALLY+1
ENDDO
endif
X=1
do while counter < number
TALLY=TALLY+1
@ 02,00 SAY "NEST    SPEC DATE     OBS  EGG LENGTH WIDTH "
@ line,0 say XNEST picture "XXXXXX"
@ LINE,8 SAY XSPECIES PICTURE "XXXX"
@ LINE,13 SAY XDATE
@ LINE,22 SAY XOBS PICTURE "XXX"
@ LINE,27 SAY TALLY PICTURE "99"
@ line,27 get EGG[X,1] picture "999"
@ LINE,32 GET EGG[X,2] PICTURE "99.9"
@ LINE,38 GET EGG[X,3] PICTURE "99.9"
LINE = LINE +1
COUNTER = COUNTER +1
X=X+1
ENDDO
READ
X=1
DO WHILE X<(NUMBER+1)
APPEND BLANK
REPLACE NEST_NO WITH XNEST
REPLACE SPECIES WITH XSPECIES
REPLACE DATE WITH XDATE
REPLACE OBS WITH XOBS
REPLACE EGGNO WITH EGG[X,1] 
REPLACE LENGTH WITH EGG[X,2]
REPLACE WIDTH WITH EGG[X,3]
X=X+1
ENDDO
ENDIF
endif
CLEAR
* ENTERING WEBTAG DATA
*IF XSTATUS = "DUCKLINGS"
*STORE 3 TO LINE
*TALLY=0
*USE EGG ORDER nest
*seek xnest
*do while xnest=nest_no
*tally=tally+1
*skip
*enddo
*go top
*DECLARE TAG[TALLY,4]
*X=1
*DO WHILE X<(TALLY+1)
*	TAG[X,1] = " "
*	TAG[X,2] = 0000
*	TAG[X,3] = 00.0
*	TAG[X,4] = 0000
*	X=X+1
*ENDDO
*Y=1
*SEEK XNEST
*DO WHILE XNEST=NEST_NO
*@ 2,0 SAY "NEST    SPEC DATE     OBS  EGG LENGTH WIDTH LINK TAG  WGT RADIO"
*@ line,0 SAY Nest_no PICTURE "XXXXXX" 
*@ line,8 SAY Species PICTURE "XXXX"
*@ line,13 SAY Date
*@ line,22 SAY Obs PICTURE "XXX" 
*@ line,27 say eggno picture "999"
*@ line,32 say length picture "99.9"
*@ line,38 say width picture "99.9"
*@ line,45 get tag[Y,1] PICTURE "@A!M Y,N"
*IF WEBTAG <> 0
*@ LINE,48 SAY WEBTAG
*ELSE
*@ LINE,48 GET TAG[Y,2] PICTURE "9999"
*ENDIF
*IF WEIGHT <> 0.0
*@ LINE,53 SAY WEIGHT
*ELSE
*@ LINE,53 GET TAG[Y,3] PICTURE "99.9"
*ENDIF
*IF RADIO <> 0
*@ LINE,58 SAY RADIO
*ELSE
*@ LINE,58 GET TAG[Y,4] PICTURE "9999"
*ENDIF
*SKIP
*Y=Y+1
*line = line+1
*ENDDO
*READ
*GO TOP
*SEEK XNEST
*X=1
*DO WHILE XNEST=NEST_NO
*IF LINK = " "
*REPLACE LINK WITH TAG[X,1] 
*ENDIF
*IF WEBTAG = 0
*REPLACE WEBTAG WITH TAG[X,2] 
*ENDIF
*IF WEIGHT=0
*REPLACE WEIGHT WITH TAG[X,3] 
*ENDIF
*IF RADIO=0
*REPLACE RADIO WITH TAG[X,4] 
*replace tagdate with xdate
*ENDIF
*X=X+1
*SKIP
*enddo
*ENDIF
*CLEAR
*IF (XSPECIES='SPEI' .and. xhen_stat="F") .OR. (XSPECIES='SPEI' .AND. XHEN_STAT='P') .or. (xspecies='COEI' .and. xhen_stat="F") .OR. (XSPECIES='COEI' .AND. XHEN_STAT='P')
*DO RESIGHT
*ENDIF
ENDDO
*CLEAR ALL
*CLOSE ALL
use visit
replace all hatch with ctod('01/01/2004') 
set filter to hatch=ctod('01/01/2004') .and. no_eggs>0 .and. status<>'HATCHED'
replace all hatch with date+(24-(val(candle1)+val(candle2))/2)
replace all hatch with date+3 for float1='FA'
replace all hatch with date+6 for float1='FO'
replace all hatch with date+9 for float1='FB'
replace all hatch with date+12 for float1='FS'
replace all hatch with date+15 for float1='FN'
replace all hatch with date+18 for float1='SP'
replace all hatch with date+21 for float1='SO'
replace all hatch with date+24 for float1='SA'
clear all 
close all

*/RUN c:\program~1\winzip\winzip32.exe  -F QUACKBAK04
?
? 'INSERT USB FLASH-DRIVE INTO DRIVE E:'
?
WAIT
RUN COPY C:\QUACK04 E:
RETURN
PROCEDURE BROOD
	CLEAR
	SET TALK OFF
	SELE C
	USE C:MARKDATA ORDER FREQUENCY
	SET FILTER TO VAL(FREQUENCY)>2000
	COUNT TO nfreq
	GOTO TOP
	x=1
	DECLARE zfreq[nfreq,3]
	DO WHILE .NOT. EOF()
	   zfreq[x,1] = frequency
	   zfreq[x,2] = speciescod
	   zfreq[x,3] = nest_no
	   x=x+1
	   SKIP
	ENDDO
	USE
	x = 1
	DO WHILE x < nfreq+1
	   IF zfreq[x,3] = xnest
		xfreq = zfreq[x,1]
	   ENDIF
	   x=x+1
	ENDDO
	? xfreq
	USE BROODS
	mnest2 = xnest
	obs = xobs
	*-- @ SAY GETS Processing. -----------------------------------------------------
	APPEND BLANK
	species = xspecies
	date = xdate 
	time = xtime
	*--  Format Page: 1
	@ 1,14 SAY "FREQ" 
	@ 1,25 SAY xFreq PICTURE "XXXX" 
	@ 1,32 SAY "SPECIES" 
	@ 1,43 SAY XSpecies PICTURE "XXXX" 
	@ 3,14 SAY "DATE" 
	@ 3,25 SAY XDate 
	@ 3,35 SAY "TIME" 
	@ 3,46 SAY XTime PICTURE "9999" 
	@ 5,26 SAY "OBS" 
	@ 5,37 SAY XObs PICTURE "XXX" 
	@ 7,16 SAY "STATUS" 
	@ 7,27 GET Status PICTURE "@M BROODY,COUNT,PARTIAL,FLUSHED" 
	@ 9,16 SAY "NUMBER" 
	@ 9,27 GET Number PICTURE "99" 
	@ 9,45 SAY 'Days since last visit:'
	@ 9,65 SAY xdate-visit->date
	@ 11,16 SAY "SALINITY" 
	@ 11,27 GET Salinity PICTURE "99.99" RANGE 0,35
	@ 13,16 SAY "COMMENTS" 
	@ 13,27 GET Comments PICTURE "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX" 
	@ 15,16 SAY "NEXTVISIT" 
	@ 15,27 GET xnext RANGE CTOD('1/1/2004'),CTOD('8/30/2004')
	READ
	REPLACE freq with xfreq,obs WITH xobs,nest_no with xnest, species with xspecies,date with xdate,time with xtime,obs with xobs,nextvisit with xnext
	xcomments = freq+' '+comments
	USE
	SELE A
	
	*-- Format file exit code -----------------------------------------------------
RETURN
PROCEDURE RESIGHT
CLEAR screen
SET TALK OFF
SELE C  && OPEN FILE IN NEW WORK AREA
*xSpecies = 'SPEI'
USE C:\QUACK04\resight
more = .Y.
DO WHILE more
	more = .N.
	ok = .F.
	rcap = .N.
	rmark= SPACE(4)
	rsex = 'F' 
	rnest = xnest
	rassn= SPACE(4)
	RDate = xdate
*	rTime= xtime
	RComm = space(40) 
	DO WHILE .NOT. ok
		rtars = SPACE(3)
		rnasl = SPACE(3)
		*--  @SAY's
		@ 0,7 TO 20,73 DOUBLE 
		@ 1,24 SAY "EIDER RESIGHTING DATA" 
		@ 3,29 SAY "IS THIS A CAPTURE" 
		@ 5,18 SAY "MARKERS:" 
		@ 5,28 SAY "FIRST MARKER SEEN" 
		@ 6,34 SAY "TARSUS BAND" 
		@ 7,35 SAY "NASAL DISK" 
		@ 9,18 SAY "SEX" 
		@ 9,40 SAY "DATE" 
		@ 10,18 SAY "NEST_NO" 
		*@ 10,40 SAY "TIME" 
		@ 11,18 SAY "ASSOCIATION" 
		@ 11,40 SAY "OBS" 
		@ 13,18 SAY "LOCATION:" 
		@ 13,29 SAY "EASTING" 
		@ 14,29 SAY "NORTHING" 
		@ 16,13 SAY "COMMENTS" 
		@ 18,13 SAY "Everything Otay?"
		*--  @GET's
		@ 3,49 GET rcap PICTURE "L" DEFAULT .N.
		@ 5,47 GET rmark PICTURE "@!M NONE,TARS,NASA,META"
		@ 6,48 GET rtars PICTURE "@!M UNK,NON,PRE,OTH,YEL,RED"  
		READ
		IF rtars = 'OTH'
			rtars = '   '
			@ 6,48 GET rtars PICTURE "@!XXX"  
			READ
			IF rtars = '   '
				LOOP
			ENDIF
		ENDIF 
		@ 7,48 GET rnasl PICTURE "@!M UNK,NON,PRE,OTH,YEL,RED"
		READ
		IF rnasl = 'OTH'
			rnasl = '   '
			@ 7,48 GET rnasl PICTURE "@!XXX"  
			READ
			IF rnasl = '   '
				LOOP
			ENDIF
		ENDIF 
		@ 9,30 GET rsex PICTURE "@!M M,F,U" DEFAULT 'F' 
		@ 10,30 GET rnest PICTURE "XXXXXX"  DEFAULT xnest
		@ 11,30 GET rassn PICTURE "@A!M NEST,BROO,PAIR,FLOC,ALON,DEAD,OTHE" 
		@ 9,52 GET   RDate RANGE CTOD('4/1/2004'),CTOD('9/1/2004') DEFAULT xdate
*		@ 10,52 GET rTime PICTURE "@L 9999" RANGE 01,2400 default xtime
		@ 11,52 SAY XObs PICTURE "@A! XXX" 
		@ 13,41 GET XEastING PICTURE "99999999"
		@ 14,41 GET XNorthING PICTURE "999999999" 
		@ 16,25 GET RComm PICTURE "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX" 
		*-- Format file exit code -----------------------------------------------------
		READ
		@ 18,35 GET ok
		READ
		IF ok .AND. rcap
			DO mark
			USE c:\QUACK04\RESIGHT
			clear screen
		ENDIF
	ENDDO
	@ 19,13 SAY "Enter more resightings?"
	@ 19,40 GET more
	READ
append blank
REPL capture WITH rcap, first_mark WITH rmark, tarsal WITH rtars, ;
	nasal WITH rnasl, sex WITH rsex, nest_no WITH rnest, assoc WITH rassn,;
	date WITH rdate, obs WITH xobs, easting WITH XeastING, ;
	northing WITH XnorthING, comments WITH rcomm, species with xspecies
enddo
USE   && CLOSE resight.dbf
SELE A  && SELECT PRIMARY WORK AREA
CLEAR 
RETURN
PROCEDURE MARK
CLEAR 
xprefixnumb = space (4)
xbandnumber = space(6)
xrcap = .N.
*xfrequency = space (4)
xage = space(3)
xsex = space(1)
xwt = 0
xculmen = 0
xtarsus = 0
xwing = 0
XTARSAL = SPACE(3)
XNASAL = SPACE(3)
bcomments = SPACE(40)
xtrap= space(6)
xvirus=.N.
xradio=.N.
XDNA = .N.
XBTIME=0
xwholeblood=0
xserum=0
XOBS2=SPACE(3)
XOBS3=SPACE(3)
	USE C:\quack04\MARKDATA
	*-- @ SAY GETS Processing. -----------------------------------------------------
	
	*--  Format Page: 1
	@ 0,22 TO 20,49 DOUBLE 
	@ 1,24 SAY "DATE" 
	@ 1,36 SAY XDate 
	@ 2,24 SAY "NEST_NO" 
	@ 2,36 GET XNEST PICTURE 'XXX999'
	@ 3,23 SAY "컴컴컴컴컴컴컴컴컴컴컴컴컴" 
	@ 4,24 SAY "RECAPTURE"
	@ 4,36 GET XRCAP PICTURE "Y" DEFAULT .N.
	@ 5,24 SAY "BANDNUMBER" 
	@ 5,36 GET XPrefixnumb PICTURE "9999" 
	@ 5,40 SAY "-" 
	@ 5,41 GET XBandnumber PICTURE "99999" 
	*@ 6,24 SAY "FREQUENCY" 
	*@ 6,36 GET XFrequency PICTURE "9999" 
	@ 7,24 SAY 'NASAL MARK'
	@ 7,36 GET xnasal PICTURE 'XXX'
	@ 8,24 say 'TARSAL MARK'
	@ 8,36 GET XTARSAL PICTURE 'XXX'
	@ 9,23 SAY "컴컴컴컴컴컴컴컴컴컴컴컴컴" 
	@ 10,24 SAY "SPECIES" 
	@ 10,36 SAY XSpecies 
	@ 11,24 SAY "AGE" 
	@ 11,36 GET XAge PICTURE "@A!M AHY,ASY,SY,LOC,UNK" 
	@ 12,24 SAY "SEX" 
	@ 12,36 GET XSex PICTURE "@A!M F,M,U" 
	@ 13,23 SAY "컴컴컴컴컴컴컴컴컴컴컴컴컴" 
	@ 14,24 SAY "WT" 
	@ 14,36 GET XWt PICTURE "9999" 
	@ 15,24 SAY "CULMEN" 
	@ 15,36 GET XCulmen PICTURE "999" 
	@ 16,24 SAY "TARSUS" 
	@ 16,36 GET XTarsus PICTURE "999" 
	@ 17,24 SAY "WING" 
	@ 17,36 GET XWing PICTURE "999" 
	@ 18,23 SAY "컴컴컴컴컴컴컴컴컴컴컴컴컴" 
	@ 18,24 SAY "COMMENTS" 
	@ 19,36 GET bcomments PICTURE "@S10 XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
        @ 03,55 SAY 'TRAP'
	@ 05,55 SAY 'VIRUS'
	@ 07,55 SAY 'RADIO'
	@ 09,55 SAY 'WHOLEBLOOD'
	@ 11,55 SAY 'DNA'
	@ 13,55 SAY 'SERUM'
        @ 15,55 SAY 'TIME OF BLEED'
        @ 03,70 GET xtrap PICTURE "@A!M TMIST,FMIST,BOW,ROPE,HAND,OTHER"
	@ 05,70 GET xvirus PICTURE "@A!M N,Y"
	@ 07,70 GET xradio PICTURE "@A!M N,Y"
	@ 09,70 GET xwholeblood picture '9.9'
        @ 11,70 get xdna PICTURE "@A!M N,Y"
	@ 13,70 GET xserum picture '9.9'
        @ 15,70 get XBTIME PICTURE '9999'
	@ 17,55 SAY 'EASTING:'
	@ 19,55 SAY 'NORTHING:'
	@ 17,70 GET Xeasting PICTURE '999999'
	@ 19,70 GET xnorthing PICTURE '99999999'
        @ 21,55 SAY 'OBS2'
        @ 21,70 GET XOBS2 PICTURE 'XXX'
        @ 23,55 SAY 'OBS3'
        @ 23,70 GET XOBS3 PICTURE 'XXX'
	
	READ
	 APPEND BLANK
	 REPLACE speciescod with xspecies, DATE with Xdate, PREFIXNUMB with XPREFIXNUMB,;
	 NASAL with xNASAL, TARSAL WITH XTARSAL, BANDNUMBER with XBANDNUMBER,;
	 SPECIESCOD with XSPECIES, SEX with XSEX,nest_no WITH xnest,;
	 AGE with XAGE, WT WITH XWT, WING with XWING, CULMEN with XCULMEN,;
	 TARSUS with XTARSUS, COMMENTS with BCOMMENTS,RECAP with xrcap,;
	 easting with xeasting, northing with xnorthing
	REPL trap WITH xtrap,virus WITH xvirus,radio WITH xradio,wholeblood WITH xwholeblood,dna WITH xdna,serum WITH xserum, BTIME WITH XBTIME, OBS2 WITH XOBS2, OBS3 WITH XOBS3

USE
CLEAR
return
